<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>

		#box{
			width: 300px;
			height: 400px;
			border: 1px solid;
			position: relative;
			overflow: hidden;
			margin:0 auto;
		}
		#content{
			width: 270px;
			float: left;
			position: absolute;
			top: 0;
			left: 0;

		}
		#line{
			width: 30px;
			height: 400px;
			float: right;
			background: grey;
			position: relative;
		}
		#stone{
			width: 30px;
			height: 40px;
			background: #111;
			position: absolute;
			top: 0;
			left: 0;
			border-radius: 20px;
			cursor:pointer;
		}

	</style>
</head>
<body>
	<div id="box">
		<div id="content">流口水的风格快乐快乐大,煞风景看了电视剧,风口浪尖粉色了好久的快乐飞机克里斯朵夫克里斯蒂互粉可好函数的回复看见很快就繁华说空,话快就收到回复很少见客户即,可收到回复看见好看好看收到回复看觉得很舒服款黑色短裤和加快速度发货进口的身份空间和健康华盛顿附近空函数,的空间还是看减。<br>
		说健康很健康倒海翻江可视电话见客户流口水,的风格快乐快乐大煞风景看了电视剧风口,浪尖粉色了好久的快乐飞机克里斯朵夫克里斯蒂互粉可好函数的回复看见很快就繁华说,空话快就,收到回复很少见客户即可,收到回,复看见好看好看收到回复看觉得很舒服款黑色短裤和加快速度发货进口的身份空间和,健康华盛顿附近空函数的空间还是看减肥很,快就收到很快恢复会计回答说健康很健康倒海翻江可视电话见客户流口水的风格快乐快乐大,煞风景看了电视剧风口浪,尖粉色了好久的快乐飞机。<br>
		克里斯朵夫克里斯蒂互,粉可好函数的回复看见很快就繁华说空话快就收到,回复很,少见客户即,可收到回复看见好看好看收到回复看觉得很舒服款黑色短裤和加快速度发货进口的身份空间和健,康华盛顿附近空函数的空间还是看减肥很快就收到很快恢复会计回答说健康很健,康倒海,翻江可视电,话见客户流口水的风格快乐快乐大煞风景,看了电视剧风口浪尖粉色了好久的快乐飞机克里斯朵夫克里斯蒂互粉可好函数的回复看见很快就繁华说空,话快就收到回复很少,见客户即可收到回复,看见好看好看收到回复看觉得很舒服款黑色短裤和加快速,度发货进口的身,份空间和健康华盛顿附近空函,,数的空间还是看减肥很,快就收到很快恢复。</div>
		<div id="line">
			<div id="stone"></div>
		</div>
	</div>
</body>
<script>
	var box = document.querySelector('#box');
	var content = document.querySelector('#content');
	var line = document.querySelector('#line');
	var stone = document.querySelector('#stone');
    //移动比例
	function scale(){
		var cHeight = content.offsetHeight - box.offsetHeight;
		var lHeight = line.offsetHeight - stone.offsetHeight;
		var s = cHeight / lHeight;
		return s;
	}  
    //鼠标拖动事件
	stone.onmousedown = function(ev){
		var e = ev || window.event;
		var offT = this.offsetTop;
		beginY = e.clientY;
		document.onmousemove = function(ev){
			var e = ev || window.event;
			var endY = e.clientY - beginY + offT ;
			if(endY<=0){
				endY = 0;
			}else if(endY>=line.clientHeight-stone.offsetHeight){
				endY = line.clientHeight-stone.offsetHeight;
			}
			stone.style.top = endY + 'px';

			var s = scale();
			var conY = s * stone.offsetTop;
			content.style.top = -conY + 'px';

			document.onmouseup = function(){
				document.onmousemove = null;
			}
		}
	}
    //键盘上下滚动事件
	window.onkeydown = function(ev){
		var e = ev || window.event;
		var y = 0;
		if(e.keyCode==40){
			y += 10;
		}
		if(e.keyCode==38){
			y -= 10;
		}
		var nowY = stone.offsetTop;
		var endY = y + nowY;
		if(endY<=0){
			endY = 0;
		}else if(endY>=line.clientHeight-stone.offsetHeight){
			endY = line.clientHeight-stone.offsetHeight;
		}
		stone.style.top = endY + 'px';

		var s = scale();
		var conY = s * stone.offsetTop;
		content.style.top = -conY + 'px';	
	}
</script>
</html>