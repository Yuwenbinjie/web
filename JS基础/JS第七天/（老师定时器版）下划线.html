<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>导航滚动（定时器版）</title>
	<style type="text/css">
		*{margin:0;padding:0;}
		.nav{
			position: relative;
			width: 400px;
			margin:50px auto 0;
		}
		.nav ul{
			list-style: none;
			position: relative;
			overflow: hidden;
		}
		.nav ul li{
			float:left;
		}
		.nav ul li a{
			display: block;
			width: 80px;
			font-size: 16px;
			text-align: center;
			color: black;
			text-decoration: none;
		}
		#slider{
			position: absolute;
			top: 20px;
			width: 80px;
			height: 2px;
			background: red;
		}
	</style>
</head>
<body>
	<div class="nav">
		<ul>
			<li><a href="＃">按钮1</a></li>
			<li><a href="＃">按钮2</a></li>
			<li><a href="＃">按钮3</a></li>
			<li><a href="＃">按钮4</a></li>
			<li><a href="＃">按钮5</a></li>
		</ul>
		<div id="slider"></div>
	</div>
	<script>
		var navList=document.getElementsByTagName('a');
		var slider=document.getElementById('slider');
		var activeIndex=0;
		var navTimer=null;
		

		//鼠标事件之后，选中的项执行函数
		function selected(index)
		{
           activeIndex=index;
           //slider.offsetleft：相对于第一有相对定位属性的父级的left值，如果父级都没有相对定位，那么left相对于body；

           var start=slider.offsetLeft;
           //获取当前的slider的left值
           var end=activeIndex*slider.offsetWidth;//划过的a标签的索引
           //slider运动后的left值
           var change=end-start;
           clearInterval(navTimer);
           navTimer=setInterval(function()
           {
           	  if(change<0)
           	  {
           	  	start-=5;
           	  	if(start<=end)
           	  	{
           	  		clearInterval(navTimer);
           	  		navTimer=null;
           	  	}
           	  }

           	  else
           	  {
           	  	start+=5;
           	  	if(start>=end)
           	  	{
           	  		clearInterval(navTimer);
           	  		navTimer=null;
           	  	}
           	  }
              slider.style.left=start+'px';
              
           },30)

		}

        bind();
		//事件绑定
		function bind()
		{
			for(var i=0;i<navList.length;i++)
			{
				(function(i)
				{
					navList[i].onmouseover=function()
					{
						selected(i);

					}
					
				})(i)
			}
		}
	</script>
</body>
</html>